(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(11),o=n.n(r),i=n(0),u=n.n(i),c=n(3),l=n.n(c),m="api/persons",s=function(){return l.a.get(m).then(function(e){return e.data})},f=function(e){return l.a.post(m,e).then(function(e){return e.data})},d=function(e,t){return l.a.put("".concat(m,"/").concat(e),t).then(function(e){return e.data})},p=function(e){return l.a.delete("".concat(m,"/").concat(e)).then(function(e){return e})},b=function(e){var t=e.persons,n=e.newFilter,a=e.poistaHenkilo,r=t.filter(function(e){return e.name.toLowerCase().includes(n.toLowerCase())});return r=r.map(function(e){return u.a.createElement("p",{key:e.name.toString()},e.name," ",e.number,"  ",u.a.createElement(v,{henkilo:e,poistaHenkilo:a}))}),u.a.createElement("div",null,u.a.createElement("div",null,r))},v=function(e){var t=e.henkilo,n=e.poistaHenkilo;return u.a.createElement("button",{onClick:function(){return n(t)}},"poista")},k=function(e){var t=e.newFilter,n=e.kasitteleFilter;return u.a.createElement("form",null,u.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4 ",u.a.createElement("input",{value:t,onChange:n})))},E=function(e){var t=e.lisaaHenkilo,n=e.newName,a=e.kasitteleNimi,r=e.newNumber,o=e.kasitteleNumero;return u.a.createElement("div",null,u.a.createElement("form",{onSubmit:t},u.a.createElement("div",null,"nimi: ",u.a.createElement("input",{value:n,onChange:a})),u.a.createElement("div",null,"numero: ",u.a.createElement("input",{value:r,onChange:o})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"lis\xe4\xe4"))))},h=function(e){var t=e.teksti;return""===t?null:u.a.createElement("div",{style:{color:"green",borderSize:2,borderColor:"green",borderStyle:"solid",borderRadius:"5px",backgroundColor:"lightgrey",padding:"5px",fontSize:30}},t)},w=function(e){var t=e.teksti;return""===t?null:u.a.createElement("div",{style:{color:"red",borderSize:2,borderColor:"red",borderStyle:"solid",borderRadius:"5px",backgroundColor:"lightgrey",padding:"5px",fontSize:30}},t)},g=function(){Object(i.useEffect)(function(){s().then(function(e){r(e)})},[]);var e=Object(i.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1],o=Object(i.useState)(""),c=Object(a.a)(o,2),l=c[0],m=c[1],v=Object(i.useState)(""),g=Object(a.a)(v,2),j=g[0],C=g[1],S=Object(i.useState)(""),O=Object(a.a)(S,2),y=O[0],L=O[1],N=Object(i.useState)(""),H=Object(a.a)(N,2),F=H[0],x=H[1],T=Object(i.useState)(""),z=Object(a.a)(T,2),P=z[0],J=z[1];return u.a.createElement("div",null,u.a.createElement("h2",null,"Puhelinluettelo"),u.a.createElement(h,{teksti:F}),u.a.createElement(w,{teksti:P}),u.a.createElement(k,{newFilter:y,kasitteleFilter:function(e){L(e.target.value)}}),u.a.createElement("h3",null,"lis\xe4\xe4 uusi"),u.a.createElement(E,{lisaaHenkilo:function(e){e.preventDefault();var t=l,a=j;if(n.map(function(e){return e.name.toLowerCase()}).includes(t.toLowerCase())){if(!window.confirm("".concat(t," on jo luettelossa, korvataanko vanha numero uudella")))return;var o=n.find(function(e){if(e.name.toLowerCase()===t.toLowerCase())return e}),i={name:t,number:a};d(o.id,i).then(function(e){x("Vaihdettiin henkil\xf6n ".concat(o.name," numero")),setTimeout(function(){x("")},2e3),r(n.map(function(t){return t.id!==o.id?t:e})),m(""),C("")}).catch(function(e){J("Henkil\xf6 ".concat(o.name," oli jo poistettu")),setTimeout(function(){J("")},3e3)})}if(!n.map(function(e){return e.name.toLowerCase()}).includes(t.toLowerCase())){var u={name:t,number:a};f(u).then(function(e){x("Lis\xe4ttiin ".concat(u.name)),setTimeout(function(){x("")},2e3),r(n.concat(e)),m(""),C("")}).catch(function(e){J("".concat(e.response.data.error)),setTimeout(function(){J("")},3e3)})}},newName:l,kasitteleNimi:function(e){m(e.target.value)},kasitteleNumero:function(e){C(e.target.value)},newNumber:j}),u.a.createElement("h3",null,"Numerot"),u.a.createElement(b,{persons:n,newFilter:y,setPersons:r,poistaHenkilo:function(e){!0===window.confirm("Poistetaanko ".concat(e.name))&&p(e.id).then(function(){x("Poistettiin henkil\xf6 ".concat(e.name)),setTimeout(function(){x("")},2e3),s().then(function(e){r(e)})})}}))};t.default=g;o.a.render(u.a.createElement(g,null),document.getElementById("root"))}},[[12,2,1]]]);
//# sourceMappingURL=main.29a56456.chunk.js.map